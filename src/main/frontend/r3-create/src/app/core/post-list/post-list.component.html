<section id="items" class="row"
         infinite-scroll
         [infiniteScrollDistance]="2"
         [infiniteScrollThrottle]="1000"
         (scrolled)="onScroll()">

  <div *ngFor="let post of posts" class="col-12 col-sm-6 col-lg-4 p-2 text-decoration-none border-0">
    <article class="card" [routerLink]="['/home/', post.idPost  ]">
      <img [src]=" post.images[0].src" *ngIf="post.images[0] != undefined; else forumpost">
      <ng-template #forumpost>
        <p class="card p-4 h3 fw-light ">
          {{post.description}}
        </p>
      </ng-template>
      <section class="card-body">
        <H5 CLASS="card-title">{{ post.title }}</H5>
        <section class="d-flex flex-row border border-dark justify-content-center">
          <div class="d-flex justify-content-center p-2">
            <div class="rounded-circle" style="height: 50px; width: 50px;background-size: cover; background-image: url({{ post.user.pfp }});"></div>
          </div>
          <section class="d-flex flex-row justify-content-center align-items-center flex-grow-1">
            <p class="h3 fw-light align-middle mb-0 p-2">{{ post.kudos }}</p>
            <i class="fa-solid fa-heart fa-2x"></i>
          </section>
          <section class="d-flex flex-row justify-content-center align-items-center flex-grow-1" *ngIf="post.recompensa>0; else noreward">
            <p class="h3 fw-light align-middle mb-0 p-2">{{ post.recompensa }}</p>
            <i class="fa-solid fa-euro-sign fa-2x"></i>
          </section>
          <ng-template #noreward>
            <section class="d-flex flex-row justify-content-center align-items-center flex-grow-1">
              <p class="h3 fw-light align-middle mb-0 p-2">{{ post.comments.length }}</p>
              <i class="fa-regular fa-message fa-2x"></i>
            </section>
          </ng-template>
        </section>
      </section>
    </article>
  </div>
</section>

